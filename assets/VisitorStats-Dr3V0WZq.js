import{j as e,a5 as w,z as y,a6 as S}from"./ui-vendor-Cjpa79o0.js";import{r as s}from"./react-vendor-Tx70mX97.js";import{c as C,u as f,g as I}from"./index-CcBc5_XN.js";import{C as p,b as k,c as P,e as h,B as g,S as E,a as R}from"./card-HG8q6SzD.js";const j=s.forwardRef(({className:a,type:i,...r},n)=>e.jsx("input",{type:i,className:C("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:n,...r}));j.displayName="Input";const z=()=>{const[a,i]=s.useState(!1),[r,n]=s.useState(""),[c,b]=s.useState(null),[d,u]=s.useState(null),[l,m]=s.useState(!1),N="1234",v=t=>{t.preventDefault(),r===N?(i(!0),x()):f.error("Incorrect PIN")},x=async()=>{m(!0),u(null);const{count:t,error:o}=await I();o?(u(o),f.error(o)):b(t),m(!1)};return a?e.jsx(E,{children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx(R,{title:"Visitor Statistics",subtitle:"Private Dashboard"}),e.jsxs("div",{className:"grid gap-6",children:[e.jsx(p,{className:"bg-gradient-to-br from-primary/10 to-secondary/10 border-primary/20",children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-primary/20 rounded-full",children:e.jsx(y,{className:"w-8 h-8 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Visitors"}),e.jsx("h3",{className:"text-4xl font-bold",children:l?"...":d?e.jsx("span",{className:"text-red-500 text-lg",children:d}):c!==null?c.toLocaleString():"..."})]})]}),e.jsx(g,{variant:"outline",size:"icon",onClick:x,disabled:l,className:"shrink-0",children:e.jsx(S,{className:`w-4 h-4 ${l?"animate-spin":""}`})})]})})}),e.jsx("div",{className:"p-4 rounded-lg bg-muted/50 text-sm text-muted-foreground",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Note:"})," This counter increments once per browser session. It uses a remote JSON storage to persist data without a backend."]})})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs(p,{className:"w-full max-w-md",children:[e.jsx(k,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5"}),"Private Access"]})}),e.jsx(h,{children:e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(j,{type:"password",placeholder:"Enter PIN",value:r,onChange:t=>n(t.target.value)})}),e.jsx(g,{type:"submit",className:"w-full",children:"Access Stats"})]})})]})})};export{z as default};
